# 实现教程系统

## 目标 (Goal)
实现一个通用的、可扩展的桌游教程系统，并在井字棋（Tic-Tac-Toe）上进行首版验证。该系统旨在通过分步引导、高亮提示和交互限制，帮助新玩家快速掌握游戏规则。

## 范围 (Scope)
- **通用教程引擎**: 一个管理教程状态（当前步骤、下一步条件）的轻量级引擎。
- **UI 组件**: `TutorialOverlay`（遮罩层）、`TutorialTooltip`（提示框）和高亮机制。
- **游戏集成**: 在 `App.tsx` 和游戏组件中集成教程上下文。
- **井字棋演示**: 针对井字棋编写一套具体的教学脚本（Script）。

## 非目标 (Non-Goals)
- 不支持复杂的 AI 动态教学（目前仅支持预定义的脚本流程）。
- 不支持即时语音教学。
- 只有本地单人模式下的教程。

## 风险 (Risks)
- **高亮稳定性**: CSS 选择器或 DOM 结构变化可能通过破坏教程的高亮定位。需要定义稳定的 `data-tutorial-id` 规范。
- **状态同步**: 游戏状态（MatchState）与教程状态（Tutorial Step）需要同步，避免玩家在未完成当前步骤时执行了非法动作。

## Why
为了降低新玩家的学习门槛，提升用户体验，通过分步引导和可视化提示帮助玩家快速理解游戏规则。当前缺乏系统化的教学机制，新玩家需要自行阅读规则文档，学习曲线较陡峭。

## What Changes
- 新增 `TutorialContext.tsx` 提供教程状态管理
- 新增 `TutorialOverlay.tsx` 和相关 UI 组件实现可视化引导
- 在 `App.tsx` 中集成教程系统
- 为井字棋游戏添加具体的教学脚本
- 更新游戏组件以支持教程模式下的交互限制

